{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import Slider from\"react-slick\";import\"../styles/FeaturedProducts.css\";import\"slick-carousel/slick/slick.css\";import\"slick-carousel/slick/slick-theme.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const FeaturedProducts=()=>{const[featuredProducts,setFeaturedProducts]=useState([]);const[error,setError]=useState(null);useEffect(()=>{const fetchFeaturedProducts=async()=>{try{const response=await fetch(\"/api/specials\");if(!response.ok){throw new Error(\"Failed to fetch.\");}const data=await response.json();console.log(\"Received data:\",data);data.slice(0,5).forEach(product=>console.log(\"Image URL:\",product.image));setFeaturedProducts(data.slice(0,5));// get the first 5 featured products\n}catch(error){setError(error.message);console.error(\"Error fetching featured products:\",error);}};fetchFeaturedProducts();},[]);const settings={infinite:true,speed:500,slidesToShow:1,slidesToScroll:1,arrows:true};return/*#__PURE__*/_jsxs(\"div\",{className:\"featured-products\",children:[error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"featured-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Featured Products\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Check out some of our featured products and find the perfect diamond for you.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-slider\",children:/*#__PURE__*/_jsx(Slider,{...settings,children:featuredProducts.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-slide\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:\"\".concat(product.type)}),/*#__PURE__*/_jsx(\"p\",{children:product.type}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",product.price]})]},product._id))})})]})]});};export default FeaturedProducts;","map":{"version":3,"names":["React","useEffect","useState","Slider","jsx","_jsx","jsxs","_jsxs","FeaturedProducts","featuredProducts","setFeaturedProducts","error","setError","fetchFeaturedProducts","response","fetch","ok","Error","data","json","console","log","slice","forEach","product","image","message","settings","infinite","speed","slidesToShow","slidesToScroll","arrows","className","children","map","src","alt","concat","type","price","_id"],"sources":["/Users/patrickciongoli/Desktop/03-coding/Business/eclatir/eclatir-diamond-ecommerce/src/components/FeaturedProducts.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Slider from \"react-slick\";\nimport \"../styles/FeaturedProducts.css\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\n\nconst FeaturedProducts = () => {\n   const [featuredProducts, setFeaturedProducts] = useState([]);\n   const [error, setError] = useState(null);\n\n   useEffect(() => {\n      const fetchFeaturedProducts = async () => {\n         try {\n            const response = await fetch(\"/api/specials\");\n            if (!response.ok) {\n               throw new Error(\"Failed to fetch.\");\n            }\n            const data = await response.json();\n            console.log(\"Received data:\", data);\n\n            data\n               .slice(0, 5)\n               .forEach((product) => console.log(\"Image URL:\", product.image));\n\n            setFeaturedProducts(data.slice(0, 5)); // get the first 5 featured products\n         } catch (error) {\n            setError(error.message);\n            console.error(\"Error fetching featured products:\", error);\n         }\n      };\n\n      fetchFeaturedProducts();\n   }, []);\n\n   const settings = {\n      infinite: true,\n      speed: 500,\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      arrows: true,\n   };\n\n   return (\n      <div className=\"featured-products\">\n         {error && <p className=\"error\">{error}</p>}\n         <div className=\"content-container\">\n            <div className=\"featured-info\">\n               <h2>Featured Products</h2>\n               <p>\n                  Check out some of our featured products and find the perfect\n                  diamond for you.\n               </p>\n            </div>\n            <div className=\"product-slider\">\n               <Slider {...settings}>\n                  {featuredProducts.map((product) => (\n                     <div key={product._id} className=\"product-slide\">\n                        <img src={product.image} alt={`${product.type}`} />\n                        <p>{product.type}</p>\n                        <p>${product.price}</p>\n                     </div>\n                  ))}\n               </Slider>\n            </div>\n         </div>\n      </div>\n   );\n};\n\nexport default FeaturedProducts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}